(function(){window.TopicGraph=function(){function e(e,o,t){var s,n,i,r,a,c,p,h,d,l,u,m,f,g,_,w,y,B,W;for(this.container=t,this.topic_ids={},this.topic_connections={},this.nodes=[],this.edges=[],this.font_size=20,this.example_topic={id:45466,name:"Accident",type:"Topic",url:"https://wikirate.org/Accident.json",content:"",bookmarkers:0,metrics:6,projects:0},this.example_metric={id:538693,name:"2020WoB+Women on Board",type:"Metric",url:"https://wikirate.org/2020WoB+Women_on_Board.json",designer:"2020WoB",title:"Women on Board",question:"What percentage of people on the company's board of directors are women?",metric_type:"Researched",about:"<p><span>2020 Women on Boards conducts research studies about the gender composition of the boards of directors of US companies.</span></p>",methodology:'<p>To search for a company listed on the 2020 Women on Boards directory, check the database here: <a href="https://www.2020wob.com/company-directory">https://www.2020wob.com/company-directory</a>. See also data in the 2014 report <a href="http://www.2020wob.com/sites/default/files/2020GDI-2014Report.pdf">here</a>.</p>',value_type:"Number",value_options:["Unknown"],report_type:"Data Breach Report",research_policy:"Designer Assessed",unit:"%",range:null,hybrid:"no",topics:["Employee","Gender equality"],scores:["2020WoB+Women on Board+Mariana","2020WoB+Women on Board+Alex H","2020WoB+Women on Board+Elizabeth Potter"],answers:3571,bookmarkers:6,projects:4,answers_url:"https://wikirate.org/2020WoB+Women_on_Board+Answer.json"},this.topics=o.items,w=this.topics,h=0,u=w.length;h<u;h++)p=w[h],this.topic_ids[p.name]=p.id;for(W=this,y=e.items,d=0,m=y.length;d<m;d++)if(p=y[d],p.topics.length>1)for(c=p.topics.map(function(e){return W.topic_ids[e]}).sort(),i=l=0,f=c.length;l<f;i=++l)for(r=c[i],B=c.slice(i+1),_=0,g=B.length;_<g;_++)a=B[_],null==(s=this.topic_connections)[r]&&(s[r]={}),null==(n=this.topic_connections[r])[a]&&(n[a]=0),this.topic_connections[r][a]+=1}return e.prototype.setEdges=function(e){var o,t,s,n,i,r;null==e&&(e=EDGE_THRESHOLD),this.edges=[],n=this.topic_connections,i=[];for(o in n)s=n[o],i.push(function(){var n;n=[];for(t in s)r=s[t],this.topic_connections[o][t]>e?n.push(this.edges.push({from:o,to:t,value:r})):n.push(void 0);return n}.call(this));return i},e.prototype.setNodes=function(e){var o,t,s,n,i;for(null==e&&(e=NODE_THRESHOLD),this.nodes=[],s=this.topics,n=[],o=0,t=s.length;o<t;o++)i=s[o],i.metrics>=e?n.push(this.nodes.push({id:i.id,label:i.name,value:i.metrics})):n.push(void 0);return n},e.prototype.render=function(){var e,o;return e={nodes:this.nodes,edges:this.edges},o={nodes:{shape:"dot",size:32,font:{size:this.font_size}},physics:{forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18},maxVelocity:146,solver:"forceAtlas2Based",timestep:.35,stabilization:{iterations:150}}},new vis.Network(this.container,e,o)},e}()}).call(this);