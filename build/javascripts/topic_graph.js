(function(){window.TopicGraph=function(){function o(o,t,e){var s,n,i,r,c,h,p,a,d,l,u,m,_,f,g,w,y,B,W,b;for(this.container=e,this.topic_ids={},this.topic_connections={},this.nodes=[],this.edges=[],this.topic_count=0,this.topic_connection_count=0,this.options={font_size:20,edges_weighted:!1,edge_threshold:10,node_threshold:15,colorful:!1},this.example_topic={id:45466,name:"Accident",type:"Topic",url:"https://wikirate.org/Accident.json",content:"",bookmarkers:0,metrics:6,projects:0},this.example_metric={id:538693,name:"2020WoB+Women on Board",type:"Metric",url:"https://wikirate.org/2020WoB+Women_on_Board.json",designer:"2020WoB",title:"Women on Board",question:"What percentage of people on the company's board of directors are women?",metric_type:"Researched",about:"<p><span>2020 Women on Boards conducts research studies about the gender composition of the boards of directors of US companies.</span></p>",methodology:'<p>To search for a company listed on the 2020 Women on Boards directory, check the database here: <a href="https://www.2020wob.com/company-directory">https://www.2020wob.com/company-directory</a>. See also data in the 2014 report <a href="http://www.2020wob.com/sites/default/files/2020GDI-2014Report.pdf">here</a>.</p>',value_type:"Number",value_options:["Unknown"],report_type:"Data Breach Report",research_policy:"Designer Assessed",unit:"%",range:null,hybrid:"no",topics:["Employee","Gender equality"],scores:["2020WoB+Women on Board+Mariana","2020WoB+Women on Board+Alex H","2020WoB+Women on Board+Elizabeth Potter"],answers:3571,bookmarkers:6,projects:4,answers_url:"https://wikirate.org/2020WoB+Women_on_Board+Answer.json"},this.topics=t.items,this.topic_count=this.topics.length,w=this.topics,a=0,u=w.length;a<u;a++)p=w[a],this.topic_ids[p.name]=p.id;for(W=this,y=o.items,d=0,m=y.length;d<m;d++)if(p=y[d],p.topics.length>1)for(h=p.topics.map(function(o){return W.topic_ids[o]}).sort(),b=1/p.topics.length,i=l=0,_=h.length;l<_;i=++l)for(r=h[i],B=h.slice(i+1),g=0,f=B.length;g<f;g++)c=B[g],null==(s=this.topic_connections)[r]&&(s[r]={}),null==(n=this.topic_connections[r])[c]&&(n[c]={count:0,score:0}),0===this.topic_connections[r][c].count&&(this.topic_connection_count+=1),this.topic_connections[r][c].count+=1,this.topic_connections[r][c].score+=b}return o.prototype.showEdge=function(o){return this.options.edges_weighted?o.score>=this.options.edge_threshold:o.count>=this.options.edge_threshold},o.prototype.showNode=function(o){return o.metrics>=this.options.node_threshold},o.prototype.updateEdges=function(){var o,t,e,s,n,i;this.edges=[],s=this.topic_connections,n=[];for(o in s)e=s[o],n.push(function(){var s;s=[];for(t in e)i=e[t],this.showEdge(this.topic_connections[o][t])?s.push(this.edges.push({from:o,to:t,value:i})):s.push(void 0);return s}.call(this));return n},o.prototype.updateNodes=function(){var o,t,e,s,n,i;for(this.nodes=[],s=this.topics,n=[],t=0,e=s.length;t<e;t++)i=s[t],this.showNode(i)?(o=this.options.colorful?i.id:1,n.push(this.nodes.push({id:i.id,label:i.name,value:i.metrics,group:o}))):n.push(void 0);return n},o.prototype.render=function(){var o,t;return o={nodes:this.nodes,edges:this.edges},t={nodes:{shape:"dot",size:32,font:{size:this.font_size}},physics:{forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18},maxVelocity:146,solver:"forceAtlas2Based",timestep:.35,stabilization:{iterations:150}}},new vis.Network(this.container,o,t)},o}()}).call(this);