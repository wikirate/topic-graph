define("ace/ext/code_lens",["require","exports","module","ace/line_widgets","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/editor","ace/config"],function(e,c){"use strict";function C(e){var n=e.$textLayer,o=n.$lenses;o&&o.forEach(function(e){e.remove()}),n.$lenses=null}function n(e,n){if(e&n.CHANGE_LINES||e&n.CHANGE_FULL||e&n.CHANGE_SCROLL||e&n.CHANGE_TEXT){var o=n.session,t=n.session.lineWidgets,r=n.$textLayer,i=r.$lenses;if(t){var s=n.$textLayer.$lines.cells,a=n.layerConfig,d=n.$padding;i||(i=r.$lenses=[]);for(var c=0,l=0;l<s.length;l++){var u=s[l].row,f=t[u],g=f&&f.lenses;if(g&&g.length){var L=i[c];L||(L=i[c]=w.buildDom(["div",{"class":"ace_codeLens"}],n.container)),L.style.height=a.lineHeight+"px",c++;for(var p=0;p<g.length;p++){var v=L.childNodes[2*p];v||(0!=p&&L.appendChild(w.createTextNode("\xa0|\xa0")),v=w.buildDom(["a"],L)),v.textContent=g[p].title,v.lensCommand=g[p]}for(;L.childNodes.length>2*p-1;)L.lastChild.remove();var h=n.$cursorLayer.getPixelPosition({row:u,column:0},!0).top-a.lineHeight*f.rowsAbove-a.offset;L.style.top=h+"px";var m=n.gutterWidth,$=o.getLine(u).search(/\S|$/);-1==$&&($=0),m+=$*a.characterWidth,m-=n.scrollLeft,L.style.paddingLeft=d+m+"px"}}for(;c<i.length;)i.pop().remove()}else i&&C(n)}}function o(e){if(e.lineWidgets){var n=e.widgetManager;e.lineWidgets.forEach(function(e){e&&e.lenses&&n.removeLineWidget(e)})}}function t(d){d.codeLensProviders=[],d.renderer.on("afterRender",n),d.$codeLensClickHandler||(d.$codeLensClickHandler=function(e){var n=e.target.lensCommand;n&&d.execCommand(n.id,n.arguments)},s.addListener(d.container,"click",d.$codeLensClickHandler,d)),d.$updateLenses=function(){function o(){var e=s.selection.cursor,n=s.documentToScreenRow(e);c.setLenses(s,a);var o=s.$undoManager&&s.$undoManager.$lastDelta;if(!(o&&"remove"==o.action&&1<o.lines.length)){var t=s.documentToScreenRow(e),r=d.renderer.layerConfig.lineHeight,i=s.getScrollTop()+(t-n)*r;s.setScrollTop(i)}}var s=d.session;if(s){s.widgetManager||(s.widgetManager=new i(s),s.widgetManager.attach(d));var t=d.codeLensProviders.length,a=[];d.codeLensProviders.forEach(function(e){e.provideCodeLenses(s,function(e,n){e||(n.forEach(function(e){a.push(e)}),0==--t&&o())})})}};var e=a.delayedCall(d.$updateLenses);d.$updateLensesOnInput=function(){e.delay(250)},d.on("input",d.$updateLensesOnInput)}function r(e){e.off("input",e.$updateLensesOnInput),e.renderer.off("afterRender",n),e.$codeLensClickHandler&&e.container.removeEventListener("click",e.$codeLensClickHandler)}var i=e("../line_widgets").LineWidgets,s=e("../lib/event"),a=e("../lib/lang"),w=e("../lib/dom");c.setLenses=function(r,e){var i=Number.MAX_VALUE;o(r),e&&e.forEach(function(e){var n=e.start.row,o=e.start.column,t=r.lineWidgets&&r.lineWidgets[n];t&&t.lenses||(t=r.widgetManager.$registerLineWidget({rowCount:1,rowsAbove:1,row:n,column:o,lenses:[]})),t.lenses.push(e.command),n<i&&(i=n)}),r._emit("changeFold",{data:{start:{row:i}}})},c.registerCodeLensProvider=function(e,n){e.setOption("enableCodeLens",!0),e.codeLensProviders.push(n),e.$updateLensesOnInput()},c.clear=function(e){c.setLenses(e,null)};var d=e("../editor").Editor;e("../config").defineOptions(d.prototype,"editor",{enableCodeLens:{set:function(e){e?t(this):r(this)}}}),w.importCssString(".ace_codeLens {    position: absolute;    color: #aaa;    font-size: 88%;    background: inherit;    width: 100%;    display: flex;    align-items: flex-end;    pointer-events: none;}.ace_codeLens > a {    cursor: pointer;    pointer-events: auto;}.ace_codeLens > a:hover {    color: #0000ff;    text-decoration: underline;}.ace_dark > .ace_codeLens > a:hover {    color: #4e94ce;}","")}),window.require(["ace/ext/code_lens"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});