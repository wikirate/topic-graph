(function(){var e,o,t,n,s,i,d,r,c,l;$.fn.select2.defaults.set("theme","bootstrap4"),e="data",o=e+"/Metric.json",t=e+"/topic.json",c=null,i=null,s={"default":{font_size:20,node_size:1,edge_size:1,simple_weight:!1,edge_threshold:2,node_threshold:2,colorful:!1},solar:{font_size:20,node_size:1,edge_size:1,simple_weight:!1,edge_threshold:2,node_threshold:130,colorful:!1},chaos:{font_size:20,node_size:1,edge_size:1,simple_weight:!0,edge_threshold:1,node_threshold:1,colorful:!0}},d=function(){return i=ace.edit("editor"),i.setTheme("ace/theme/github"),i.setOption("showLineNumbers",!1),i.session.setMode("ace/mode/yaml"),i.resize()},$(document).ready(function(){var e;return $("#configs").select2(),d(),e=document.getElementById("topicgraph"),r(metrics,topics,e),i.setValue(c.getVisConfig()),$("body").on("change","._edge-threshold",function(){return c.options.edge_threshold=parseFloat($(this).val()),c.updateEdges(),l()}),$("body").on("change","._node-threshold",function(){return c.options.node_threshold=parseFloat($(this).val()),c.updateNodes(),l()}),$("body").on("change","._font-size",function(){return c.options.font_size=parseInt($(this).val()),l()}),$("body").on("change","._edge-size",function(){return c.options.edge_size=parseFloat($(this).val()),c.updateEdges(),l()}),$("body").on("change","._node-size",function(){return c.options.node_size=parseFloat($(this).val()),c.updateNodes(),l()}),$("body").on("change","#configs",function(){var e;return e=$(this).select2("data"),c.loadConfig(s[e[0].id]),c.updateEdges(),c.updateNodes(),l()}),$("body").on("change","._colorful",function(){return c.options.colorful=this.checked,c.updateNodes(),l()}),$("body").on("click","._apply-config",function(){return c.setVisConfig(i.getValue()),c.render()}),$("body").on("change","._connection-formula",function(){return"simple"===$("input[name=formulaRadios]:checked").val()?c.options.simple_weight=!0:c.options.simple_weight=!1,c.updateEdges(),l()})}),n={edge_threshold:"edge-threshold",node_threshold:"node-threshold",font_size:"font-size",node_size:"node-size",edge_size:"edge-size"},r=function(e,o,t){var s,i,d;c=new TopicGraph(e,o,t);for(i in n)s=n[i],$("._"+s).val(c.options[i]);return d=c.options.simple_weight?"simple":"weighted",$("input[value='"+d+"']").prop("checked",!0),$("._colorful").prop("checked",c.options.colorful),c.updateEdges(),c.updateNodes(),l()},l=function(){var e,o,t;c.render(),o=c.options;for(e in o)t=o[e],$("._"+n[e]).val(t);return $("._topic-count").text(c.topic_count),$("._topic-connection-count").text(c.topic_connection_count),$("._edge-count").text(c.edges.length),$("._node-count").text(c.nodes.length)}}).call(this);