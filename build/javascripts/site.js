(function(){var e,o,t,n,d,s,i,r,c,u,l,a;$.fn.select2.defaults.set("theme","bootstrap4"),e="data",t=e+"/Metric.json",d=e+"/topic.json",l=null,r=null,o={simple:1,topic_count:2,bookmarks:3},n={metrics:1,bookmarks:2},i={"default":{font_size:20,node_size:1,edge_size:1,edge_formula:o.topic_count,node_formula:n.metrics,edge_threshold:2,node_threshold:2,colorful:!1},solar:{font_size:20,node_size:1,edge_size:1,edge_formula:o.topic_count,node_formula:n.metrics,edge_threshold:2,node_threshold:130,colorful:!1},chaos:{font_size:20,node_size:1,edge_size:1,edge_formula:o.simple,node_formula:n.metrics,edge_threshold:1,node_threshold:1,colorful:!0},elite_connections:{font_size:20,node_size:1,edge_size:1,edge_formula:o.topic_count,node_formula:n.metrics,edge_threshold:1.5,node_threshold:10,colorful:!1}},c=function(){return r=ace.edit("editor"),r.setTheme("ace/theme/github"),r.setOption("showLineNumbers",!1),r.session.setMode("ace/mode/yaml"),r.resize()},$(document).ready(function(){var e;return $("#configs").select2(),c(),e=document.getElementById("topicgraph"),u(metrics,topics,e),r.setValue(l.getVisConfig()),$("body").on("change","._edge-threshold",function(){return l.options.edge_threshold=parseFloat($(this).val()),l.updateEdges(),a()}),$("body").on("change","._node-threshold",function(){return l.options.node_threshold=parseFloat($(this).val()),l.updateNodes(),a()}),$("body").on("change","._font-size",function(){return l.options.font_size=parseInt($(this).val()),a()}),$("body").on("change","._edge-size",function(){return l.options.edge_size=parseFloat($(this).val()),l.updateEdges(),a()}),$("body").on("change","._node-size",function(){return l.options.node_size=parseFloat($(this).val()),l.updateNodes(),a()}),$("body").on("change","#configs",function(){var e;return e=$(this).select2("data"),l.loadConfig(i[e[0].id]),l.updateEdges(),l.updateNodes(),a()}),$("body").on("change","._colorful",function(){return l.options.colorful=this.checked,l.updateNodes(),a()}),$("body").on("click","._apply-config",function(){return l.setVisConfig(r.getValue()),l.render()}),$("body").on("change","._connection-formula",function(){return l.options.edge_formula=parseInt($("input._connection-formula:checked").val()),l.updateEdges(),a()}),$("body").on("change","._node-formula",function(){return l.options.node_formula=parseInt($("input._node-formula:checked").val()),l.updateNodes(),a()})}),s={edge_threshold:"edge-threshold",node_threshold:"node-threshold",font_size:"font-size",node_size:"node-size",edge_size:"edge-size"},u=function(e,o,t){var n,d,i;l=new TopicGraph(e,o,t);for(d in s)n=s[d],$("._"+n).val(l.options[d]);return i=l.options.edge_formula,$("input[value='"+i+"']").prop("checked",!0),$("input[value='"+i+"']").prop("checked",!0),$("._colorful").prop("checked",l.options.colorful),l.updateEdges(),l.updateNodes(),a()},a=function(){var e,o,t;l.render(),o=l.options;for(e in o)t=o[e],$("._"+s[e]).val(t);return $("._topic-count").text(l.topic_count),$("._topic-connection-count").text(l.topic_connection_count),$("._edge-count").text(l.edges.length),$("._node-count").text(l.nodes.length)}}).call(this);